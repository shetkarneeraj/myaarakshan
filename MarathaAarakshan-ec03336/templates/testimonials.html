{% extends "base.html" %}

{% block title %}рдпрд╢реЛрдЧрд╛рдерд╛ - рдорд░рд╛рдард╛ рдЖрд░рдХреНрд╖рдг рдордВрдЪ{% endblock %}

{% block content %}
<div class="container py-5">
    <!-- Header -->
    <div class="row mb-5">
        <div class="col-12 text-center">
            <h1 class="display-5 text-primary mb-3">ЁЯМЯ рдпрд╢реЛрдЧрд╛рдерд╛ рдЖрдгрд┐ рдЕрдиреБрднрд╡</h1>
            <p class="lead">рдЬреНрдпрд╛рдВрдирд╛ рдпрд╢ рдорд┐рд│рд╛рд▓реЗ рддреНрдпрд╛рдВрдЪреЗ рдЕрдиреБрднрд╡ рдЖрдгрд┐ рдорд╛рд░реНрдЧрджрд░реНрд╢рди</p>
        </div>
    </div>

    <!-- Success Stories -->
    <div class="row mb-5">
        {% for testimonial in testimonials %}
        <div class="col-lg-4 mb-4">
            <div class="card border-0 shadow-lg h-100 testimonial-card">
                <div class="card-header bg-success text-white text-center">
                    <div class="testimonial-avatar">
                        <i class="fas fa-user-circle fa-3x"></i>
                    </div>
                    <h5 class="mt-2 mb-0">{{ testimonial.name }}</h5>
                    <small>{{ testimonial.village }}</small>
                </div>
                <div class="card-body">
                    <div class="text-center mb-3">
                        {% for i in range(testimonial.rating) %}
                        <i class="fas fa-star text-warning"></i>
                        {% endfor %}
                    </div>
                    <p class="card-text">"{{ testimonial.message }}"</p>
                </div>
                <div class="card-footer bg-transparent text-center">
                    <span class="badge bg-success">
                        <i class="fas fa-info-circle me-1"></i>рдорд╛рд╣рд┐рддреА рдорд┐рд│рд╛рд▓реА
                    </span>
                </div>
            </div>
        </div>
        {% endfor %}

        <!-- More Success Stories -->
        <div class="col-lg-4 mb-4">
            <div class="card border-0 shadow-lg h-100 testimonial-card">
                <div class="card-header bg-primary text-white text-center">
                    <div class="testimonial-avatar">
                        <i class="fas fa-user-circle fa-3x"></i>
                    </div>
                    <h5 class="mt-2 mb-0">рдЕрдирд┐рд▓ рдХрд╛рд│реЗ</h5>
                    <small>рд╡реИрдЬрд╛рдкреВрд░, рдЫрддреНрд░рдкрддреА рд╕рдВрднрд╛рдЬреАрдирдЧрд░</small>
                </div>
                <div class="card-body">
                    <div class="text-center mb-3">
                        <i class="fas fa-star text-warning"></i>
                        <i class="fas fa-star text-warning"></i>
                        <i class="fas fa-star text-warning"></i>
                        <i class="fas fa-star text-warning"></i>
                        <i class="fas fa-star text-warning"></i>
                    </div>
                    <p class="card-text">"рдорд╛рдЭреНрдпрд╛рдХрдбреЗ рдЬреБрдиреА рдХрд╛рдЧрджрдкрддреНрд░реЗ рдирд╡реНрд╣рддреА, рдкрдг рдпрд╛ рд╡реЗрдмрд╕рд╛рдЗрдЯрдЪреНрдпрд╛ рдорд╛рд░реНрдЧрджрд░реНрд╢рдХрд╛рдореБрд│реЗ рдорд▓рд╛ рдкрд░реНрдпрд╛рдпреА рдкреБрд░рд╛рд╡реЗ рдХрд╕реЗ рдорд┐рд│рд╡рд╛рдпрдЪреЗ рддреЗ рд╕рдордЬрд▓реЗ. рдорд╛рд╣рд┐рддреА рдорд┐рд│рд╛рд▓реНрдпрд╛рдореБрд│реЗ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕рдордЬрд╛рдпрд▓рд╛ рдорджрдд рдЭрд╛рд▓реА."</p>
                </div>
                <div class="card-footer bg-transparent text-center">
                    <span class="badge bg-primary">
                        <i class="fas fa-clock me-1"></i>3 рдорд╣рд┐рдиреЗ
                    </span>
                </div>
            </div>
        </div>

        <div class="col-lg-4 mb-4">
            <div class="card border-0 shadow-lg h-100 testimonial-card">
                <div class="card-header bg-info text-white text-center">
                    <div class="testimonial-avatar">
                        <i class="fas fa-user-circle fa-3x"></i>
                    </div>
                    <h5 class="mt-2 mb-0">рдореАрд░рд╛ рдХрджрдо</h5>
                    <small>рдЬрд┐рдВрддреВрд░, рдкрд░рднрдгреА</small>
                </div>
                <div class="card-body">
                    <div class="text-center mb-3">
                        <i class="fas fa-star text-warning"></i>
                        <i class="fas fa-star text-warning"></i>
                        <i class="fas fa-star text-warning"></i>
                        <i class="fas fa-star text-warning"></i>
                        <i class="fas fa-star text-warning"></i>
                    </div>
                    <p class="card-text">"рдкрд╣рд┐рд▓реНрдпрд╛рдВрджрд╛ рдЕрд░реНрдЬ рдирд╛рдХрд╛рд░рд▓рд╛ рдЧреЗрд▓рд╛. рдкрдг FAQ рд╡рд╛рдЪреВрди рдорд▓рд╛ рд╕рдордЬрд▓реЗ рдХрд╛рдп рдЪреВрдХ рдЭрд╛рд▓реА. рджреБрд╕рд▒реНрдпрд╛ рд╡реЗрд│реЗрд╕ рдпреЛрдЧреНрдп рдХрд╛рдЧрджрдкрддреНрд░реЗ рдШреЗрдКрди рдЧреЗрд▓реЛ рдЖрдгрд┐ рдпрд╢ рдорд┐рд│рд╛рд▓реЗ!"</p>
                </div>
                <div class="card-footer bg-transparent text-center">
                    <span class="badge bg-info">
                        <i class="fas fa-redo me-1"></i>рджреБрд╕рд░рд╛ рдкреНрд░рдпрддреНрди рдпрд╢рд╕реНрд╡реА
                    </span>
                </div>
            </div>
        </div>

        <div class="col-lg-4 mb-4">
            <div class="card border-0 shadow-lg h-100 testimonial-card">
                <div class="card-header bg-warning text-dark text-center">
                    <div class="testimonial-avatar">
                        <i class="fas fa-user-circle fa-3x"></i>
                    </div>
                    <h5 class="mt-2 mb-0">рд╡рд┐рдЬрдп рд╢рд┐рдВрджреЗ</h5>
                    <small>рдЧреЗрд╡рд░рд╛рдИ, рдмреАрдб</small>
                </div>
                <div class="card-body">
                    <div class="text-center mb-3">
                        <i class="fas fa-star text-warning"></i>
                        <i class="fas fa-star text-warning"></i>
                        <i class="fas fa-star text-warning"></i>
                        <i class="fas fa-star text-warning"></i>
                        <i class="fas fa-star text-warning"></i>
                    </div>
                    <p class="card-text">"рдорд╛рдЭреНрдпрд╛ рдорд╛рдорд╛рдХрдбреЗ рдЬреБрдиреА рдХрд╛рдЧрджрдкрддреНрд░реЗ рд╣реЛрддреА. рддреНрдпрд╛рдВрдЪрд╛ рд░реЗрдлрд░рд▓ рдЖрдгрд┐ рдпрд╛ рд╡реЗрдмрд╕рд╛рдЗрдЯрд╡рд░реАрд▓ рдорд╛рд╣рд┐рддреАрдореБрд│реЗ рдЕрд░реНрдЬрд╛рдЪреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕рдордЬрд▓реА рдЖрдгрд┐ рдпреЛрдЧреНрдп рдорд╛рд░реНрдЧрджрд░реНрд╢рди рдорд┐рд│рд╛рд▓реЗ."</p>
                </div>
                <div class="card-footer bg-transparent text-center">
                    <span class="badge bg-warning text-dark">
                        <i class="fas fa-users me-1"></i>рдХреБрдЯреБрдВрдмреАрдп рд░реЗрдлрд░рд▓
                    </span>
                </div>
            </div>
        </div>

        <div class="col-lg-4 mb-4">
            <div class="card border-0 shadow-lg h-100 testimonial-card">
                <div class="card-header bg-secondary text-white text-center">
                    <div class="testimonial-avatar">
                        <i class="fas fa-user-circle fa-3x"></i>
                    </div>
                    <h5 class="mt-2 mb-0">рд░реЗрдЦрд╛ рдЧрд╛рдпрдХрд╡рд╛рдб</h5>
                    <small>рдХрдВрдзрд╛рд░, рдирд╛рдВрджреЗрдб</small>
                </div>
                <div class="card-body">
                    <div class="text-center mb-3">
                        <i class="fas fa-star text-warning"></i>
                        <i class="fas fa-star text-warning"></i>
                        <i class="fas fa-star text-warning"></i>
                        <i class="fas fa-star text-warning"></i>
                        <i class="fas fa-star text-warning"></i>
                    </div>
                    <p class="card-text">"рд╢реБрд░реБрд╡рд╛рддреАрд▓рд╛ рдорд▓рд╛ рд╡рд╛рдЯрд▓реЗ рдЦреВрдк рдЕрд╡рдШрдб рдЖрд╣реЗ. рдкрдг рдЪреЗрдХрд▓рд┐рд╕реНрдЯ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реВрди step by step рдХреЗрд▓реЗ. рд╕рд░реНрд╡ рдХрд╛рдЧрджрдкрддреНрд░реЗ рдпреЛрдЧреНрдп рд╣реЛрддреЗ рдореНрд╣рдгреВрди рд▓рд╡рдХрд░ рдорд┐рд│рд╛рд▓реЗ."</p>
                </div>
                <div class="card-footer bg-transparent text-center">
                    <span class="badge bg-secondary">
                        <i class="fas fa-list-check me-1"></i>рдЪреЗрдХрд▓рд┐рд╕реНрдЯ рдЙрдкрдпреЛрдЧреА
                    </span>
                </div>
            </div>
        </div>

        <div class="col-lg-4 mb-4">
            <div class="card border-0 shadow-lg h-100 testimonial-card">
                <div class="card-header bg-danger text-white text-center">
                    <div class="testimonial-avatar">
                        <i class="fas fa-user-circle fa-3x"></i>
                    </div>
                    <h5 class="mt-2 mb-0">рд╕рдВрджреАрдк рдШреЛрд░рдкрдбреЗ</h5>
                    <small>рддреБрд│рдЬрд╛рдкреВрд░, рдЙрд╕реНрдорд╛рдирд╛рдмрд╛рдж</small>
                </div>
                <div class="card-body">
                    <div class="text-center mb-3">
                        <i class="fas fa-star text-warning"></i>
                        <i class="fas fa-star text-warning"></i>
                        <i class="fas fa-star text-warning"></i>
                        <i class="fas fa-star text-warning"></i>
                        <i class="fas fa-star text-warning"></i>
                    </div>
                    <p class="card-text">"рдкрд╛рддреНрд░рддрд╛ рддрдкрд╛рд╕рдгреАрдд рдорд▓рд╛ рдХрд│рд▓реЗ рдХреА рдорд╛рдЭреНрдпрд╛рдХрдбреЗ рд╕рд░реНрд╡ рдкреБрд░рд╛рд╡реЗ рдЖрд╣реЗрдд. рдлреНрд▓реЛрдЪрд╛рд░реНрдЯ рдкрд╛рд╣реВрди рдкреВрд░реНрдг рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕рдордЬрд▓реА. рдЕрд░реНрдЬ рдХрд░реВрди 4 рдорд╣рд┐рдиреНрдпрд╛рдд рдорд┐рд│рд╛рд▓реЗ!"</p>
                </div>
                <div class="card-footer bg-transparent text-center">
                    <span class="badge bg-danger">
                        <i class="fas fa-chart-line me-1"></i>рдкреВрд░реНрдг рдкреНрд░рдХреНрд░рд┐рдпрд╛
                    </span>
                </div>
            </div>
        </div>
    </div>


    <!-- Tips from Success Stories -->
    <div class="row mb-5">
        <div class="col-12">
            <h3 class="text-center mb-4">рдпрд╢рд╕реНрд╡реА рдЕрд░реНрдЬрджрд╛рд░рд╛рдВрдЪреЗ рдЯрд┐рдкреНрд╕</h3>
            <div class="row">
                <div class="col-md-6 mb-4">
                    <div class="card border-start border-success border-5 h-100">
                        <div class="card-body">
                            <h5 class="card-title text-success">
                                <i class="fas fa-lightbulb me-2"></i>рдХрд╛рдЧрджрдкрддреНрд░реЗ рддрдпрд╛рд░ рдХрд░рд╛
                            </h5>
                            <p class="card-text">"рдЪреЗрдХрд▓рд┐рд╕реНрдЯ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рд╛ рдЖрдгрд┐ рдкреНрд░рддреНрдпреЗрдХ рдХрд╛рдЧрджрдкрддреНрд░ рддрдпрд╛рд░ рдареЗрд╡рд╛. рдПрдХрд╣реА рдХрд╛рдЧрдж рдЪреБрдХреВ рдирдХрд╛." - рд░рд╛рд╣реБрд▓ рдкрд╛рдЯреАрд▓</p>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 mb-4">
                    <div class="card border-start border-info border-5 h-100">
                        <div class="card-body">
                            <h5 class="card-title text-info">
                                <i class="fas fa-users me-2"></i>рдирд╛рддреЗрд╡рд╛рдИрдХ рд╢реЛрдзрд╛
                            </h5>
                            <p class="card-text">"рдЧрд╛рд╡рд╛рддреАрд▓ рдирд╛рддреЗрд╡рд╛рдИрдХ рд╢реЛрдзрд╛. рдХреБрдЯреБрдВрдмрд╛рдд рдХреЛрдгрд╛рдХрдбреЗ рдЬреБрдиреА рдХрд╛рдЧрджрдкрддреНрд░реЗ рдЕрд╕рддреАрд▓ рддрд░ рдорд╛рд╣рд┐рддреА рдорд┐рд│рд╡рд╛рдпрд▓рд╛ рдорджрдд рд╣реЛрддреЗ." - рдЕрдирд┐рд▓ рдХрд╛рд│реЗ</p>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 mb-4">
                    <div class="card border-start border-warning border-5 h-100">
                        <div class="card-body">
                            <h5 class="card-title text-warning">
                                <i class="fas fa-clock me-2"></i>рдзреАрд░ рдзрд░рд╛
                            </h5>
                            <p class="card-text">"рдкреНрд░рдХреНрд░рд┐рдпреЗрд▓рд╛ рд╡реЗрд│ рд▓рд╛рдЧрддреЛ. рдШрд╛рдИ рдХрд░реВ рдирдХрд╛ рдЖрдгрд┐ рдпреЛрдЧреНрдп рдХрд╛рдЧрджрдкрддреНрд░реЗ рддрдпрд╛рд░ рдХрд░рд╛." - рдореАрд░рд╛ рдХрджрдо</p>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 mb-4">
                    <div class="card border-start border-danger border-5 h-100">
                        <div class="card-body">
                            <h5 class="card-title text-danger">
                                <i class="fas fa-exclamation-triangle me-2"></i>рдЪреБрдХреАрдЪреА рдорд╛рд╣рд┐рддреА рджреЗрдК рдирдХрд╛
                            </h5>
                            <p class="card-text">"рдЦрд░реА рдЖрдгрд┐ рдкреНрд░рдорд╛рдгрд┐рдХ рдорд╛рд╣рд┐рддреА рджреНрдпрд╛. рдмрдирд╛рд╡рдЯ рдХрд╛рдЧрджрдкрддреНрд░реЗ рдХрдзреАрд╣реА рд╡рд╛рдкрд░реВ рдирдХрд╛." - рд╡рд┐рдЬрдп рд╢рд┐рдВрджреЗ</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Share Your Story -->
    <div class="row">
        <div class="col-lg-8 mx-auto">
            <div class="card border-0 shadow-lg">
                <div class="card-header bg-success text-white text-center">
                    <h4><i class="fas fa-share-alt me-2"></i>рддреБрдордЪреА рдпрд╢реЛрдЧрд╛рдерд╛ рд╢реЗрдЕрд░ рдХрд░рд╛</h4>
                </div>
                <div class="card-body">
                    <p class="text-center">рддреБрдореНрд╣рд╛рд▓рд╛ рдпрд╛ рд╡реЗрдмрд╕рд╛рдЗрдЯрд╡рд░реАрд▓ рдорд╛рд╣рд┐рддреА рдХрд┐рдВрд╡рд╛ рдорд╛рд░реНрдЧрджрд░реНрд╢рди рдЙрдкрдпреБрдХреНрдд рд╡рд╛рдЯрд▓реЗ рдЕрд╕реЗрд▓ рддрд░ рддреБрдордЪрд╛ рдЕрдиреБрднрд╡ рдЗрддрд░рд╛рдВрд╕реЛрдмрдд рд╢реЗрдЕрд░ рдХрд░рд╛</p>
                    
                    <form id="testimonialForm">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="story_name" class="form-label">рдирд╛рд╡</label>
                                <input type="text" class="form-control" id="story_name" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="story_village" class="form-label">рдЧрд╛рд╡, рдЬрд┐рд▓реНрд╣рд╛</label>
                                <input type="text" class="form-control" id="story_village" required>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="story_rating" class="form-label">рд░реЗрдЯрд┐рдВрдЧ</label>
                            <div class="rating-input">
                                <input type="radio" id="star5" name="rating" value="5">
                                <label for="star5">тнР</label>
                                <input type="radio" id="star4" name="rating" value="4">
                                <label for="star4">тнР</label>
                                <input type="radio" id="star3" name="rating" value="3">
                                <label for="star3">тнР</label>
                                <input type="radio" id="star2" name="rating" value="2">
                                <label for="star2">тнР</label>
                                <input type="radio" id="star1" name="rating" value="1">
                                <label for="star1">тнР</label>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="story_message" class="form-label">рддреБрдордЪрд╛ рдЕрдиреБрднрд╡</label>
                            <textarea class="form-control" id="story_message" rows="4" placeholder="рддреБрдордЪреА рдпрд╢реЛрдЧрд╛рдерд╛ рдЗрддрд░рд╛рдВрд╕реЛрдмрдд рд╢реЗрдЕрд░ рдХрд░рд╛..." required></textarea>
                        </div>
                        
                        <div class="text-center">
                            <button type="submit" class="btn btn-success btn-lg">
                                <i class="fas fa-paper-plane me-2"></i>рдпрд╢реЛрдЧрд╛рдерд╛ рдкрд╛рдард╡рд╛
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.testimonial-card {
    transition: all 0.3s ease;
}

.testimonial-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0,0,0,0.15) !important;
}

.testimonial-avatar {
    display: flex;
    justify-content: center;
    align-items: center;
}

.rating-input {
    display: flex;
    flex-direction: row-reverse;
    justify-content: center;
}

.rating-input input[type="radio"] {
    display: none;
}

.rating-input label {
    font-size: 2rem;
    color: #ddd;
    cursor: pointer;
    transition: color 0.3s ease;
}

.rating-input input[type="radio"]:checked ~ label,
.rating-input label:hover,
.rating-input label:hover ~ label {
    color: #ffc107;
}
</style>
{% endblock %}

{% block scripts %}
<script>
document.getElementById('testimonialForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const formData = {
        name: document.getElementById('story_name').value,
        village: document.getElementById('story_village').value,
        rating: document.querySelector('input[name="rating"]:checked')?.value,
        message: document.getElementById('story_message').value
    };
    
    if (!formData.rating) {
        alert('рдХреГрдкрдпрд╛ рд░реЗрдЯрд┐рдВрдЧ рджреНрдпрд╛');
        return;
    }
    
    // Show loading state
    const submitBtn = this.querySelector('button[type="submit"]');
    const originalText = submitBtn.innerHTML;
    submitBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span>рдкрд╛рдард╡рдд рдЖрд╣реЗ...';
    submitBtn.disabled = true;
    
    // Simulate sending
    setTimeout(() => {
        alert('рдзрдиреНрдпрд╡рд╛рдж! рддреБрдордЪреА рдпрд╢реЛрдЧрд╛рдерд╛ рдЖрдореНрд╣рд╛рд▓рд╛ рдорд┐рд│рд╛рд▓реА. рд╡реЗрд░рд┐рдлрд┐рдХреЗрд╢рдирдирдВрддрд░ рддреА рд╡реЗрдмрд╕рд╛рдЗрдЯрд╡рд░ рджрд╛рдЦрд╡рд▓реА рдЬрд╛рдИрд▓.');
        this.reset();
        submitBtn.innerHTML = originalText;
        submitBtn.disabled = false;
    }, 2000);
});

// Counter animation
function animateCounters() {
    const counters = document.querySelectorAll('.display-6');
    
    counters.forEach(counter => {
        const target = parseFloat(counter.textContent.replace(/[^\d.]/g, ''));
        const increment = target / 50;
        let current = 0;
        
        const timer = setInterval(() => {
            current += increment;
            if (current >= target) {
                current = target;
                clearInterval(timer);
            }
            
            if (counter.textContent.includes('%')) {
                counter.textContent = Math.round(current) + '%';
            } else if (counter.textContent.includes('+')) {
                counter.textContent = Math.round(current).toLocaleString() + '+';
            } else {
                counter.textContent = current.toFixed(1);
            }
        }, 30);
    });
}

// Trigger animation when statistics section comes into view
const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            animateCounters();
            observer.unobserve(entry.target);
        }
    });
});

const statsSection = document.querySelector('.bg-primary .card-body');
if (statsSection) {
    observer.observe(statsSection);
}
</script>
{% endblock %}
